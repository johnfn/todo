<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>TypeScript HTML App</title>

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="Content/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="Content/bootstrap-theme.css" type="text/css" />
    <link rel="stylesheet" href="app.css" type="text/css" />

    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <script src="Scripts/jquery-2.1.3.js"></script>
    <script src="Scripts/jquery.timeago.js"></script>
    <script src="Scripts/underscore.js"></script>
    <script src="Scripts/backbone.js"></script>
    <script src="Scripts/underscore.js"></script>
    <script src="Scripts/bootstrap.js"></script>

    <script src="app.js"></script>
    <script src="keyboard-shortcuts.js"></script>
    <script src="storage.js"></script>

    <script src="nw-specific.js"></script>

    <script type="text/template" id="todo-edit">
        <div class="children">
            <div>
                <input class="name name-js" type="text" placeholder="title" />
            </div>

            <textarea class="invisible desc desc-js" rows="2" cols="10"></textarea>

            <div>
                <a class="edit-add-js" href="#">Add.</a>
                <a class="edit-cancel-js" href="#">Cancel.</a>
            </div>
        </div>
    </script>

    <script type="text/template" id="todo-archive-item">
         <li> <%= name %> </li>
    </script>

    <script type="text/template" id="todo-archive">
        <ul class="todo-archive-list">

        </ul>
    </script>

    <script type="text/template" id="todo">
        <div class="todo 
			 <% if (selected) print ('selected') %>
			 <% if (isDraggedOver && !isDraggedOverAsChild) print ('dragged-over') %>
			 <% if (isDraggedOverAsChild) print ('dragged-over-as-child') %>">
            <div class="todo-name">
                <span class="edit-name-js todo-name-content
					  <% if (done) print('todo-done') %>
					  <% if (isHeader) print('todo-header') %>">

                    <% if (!isHeader) { %>
                        <input type="checkbox" class="todo-done-js" <% if (done) print('checked') %> draggable="true" />
                    <% } %>

                    <% if (editingName) { %>
                        <input class='name-edit' />
                    <% } else { %>
                        <% if (starred) { %>
                            <i class="fa fa-star"></i>
                        <% } %>

                        <%= name %>
                    <% } %>
				</span>

				<% if (selected) { %>
					<span class="toolbar">
						<a href="#" class="todo-add-js"> + </a>
						<a href="#" class="todo-set-starred-js"> 
                            <i class="fa fa-star<%= starred ? '' : '-o' %>"></i>
                        </a>
						<a href="#" class="todo-remove-js"> - </a>
						<% if (numChildren > 0) { %>
							<a href="#" class="todo-hide-js"> <%= hidden ? '[+]' : '[-]' %> </a>
						<% } %>
					</span>
				<% } %>
            </div>

            <div class="todo-content edit-content-js"> <%= content %> </div>
            <input class='content-edit-js'/>

            <div class="children-js children <%= hidden ? 'hide' : '' %>"> </div>
            <div class="todo-add"> </div>
        </div>
    </script>

    <script type="text/template" id="main">
        <div class="items">
        </div>
    </script>

    <script type="text/template" id="normal-shortcuts">
        <ul>
            <li> <b>Enter:</b> Edit todo name. </li>
            <li> <b>Shift + Enter:</b> Add a sub-todo. </li>
            <li> <b>Up/Down/Left/Right:</b> Navigate. </li>
            <li> <b>Ctrl + S:</b> See change history. </li>
        </ul>
    </script>

    <script type="text/template" id="editing-shortcuts">
        <ul>
            <li> <b>Enter:</b> Finish editing. </li>
            <li> <b>Esc:</b> Cancel editing. </li>
        </ul>
    </script>

	<script type="text/template" id="autosave-list-item">
		#<%= index %>: <a href="#">Auto-save at <span class="timeago-js"><%= date %></span></a>
	</script>

	<script type="text/template" id="right-panel">
        <% if (!archived) { %> 
            <%= breadcrumbs %> 
        <% } %>
		<div> 
			<b> <%= name %> </b>
			<small class="right-panel-time"> (added <%= createdDate %>) </small>
		</div>

		<% if (isEditingContent) { %>
			<div class="content-input-js">
				<textarea class="content-edit-js"><%= content %></textarea>
			</div>
		<% } else { %>
			<div class="content-js"> <%= content %> </div>
		<% } %>

        <% if (!archived) { %>
            <div>
                <input type="checkbox" class="header-checkbox-js" <% if (isHeader) print('checked') %>/>Header
            </div>
        <% } %>

        <div>
            <input type="checkbox" class="archived-checkbox-js"  <% if (archived) print('checked') %>/>Archived
        </div>
	</script>

    <script type="text/template" id="footer">
        <div class="container">
            <button type="submit" class="btn btn-link archive-all">Archive all done</button>
        </div>
    </script>
</head>
<body>
    <div class="title">
        <div class="title-content">
            <i class="fa fa-cogs"></i>
            <span class="title-text">todo</span>
        </div>
        <div class="title-below"></div>
    </div>

    <div class="container whole-todo-container">
        <div class="col-sm-8">
            <div role="tabpanel">
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#todos" aria-controls="todos" role="tab" data-toggle="tab">todos</a></li>
                    <li role="presentation"><a href="#archive" aria-controls="archive" role="tab" data-toggle="tab">archive</a></li>
                </ul>

                <div class="tab-content">
                    <div role="tabpanel" class="tab-pane active" id="todos">
                        <div id="main-content"></div>
                    </div>

                    <div role="tabpanel" class="tab-pane" id="archive">
                        <div id="archive-js"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 right-panel">
        </div>
    </div>

    <footer class="footer">
    </footer>

    <div class="keyboard-shortcuts">
        <span class="keyboard-header">
            Relevant shortcuts:
        </span>
        <a href="#" class="exit">x</a>

        <div class="shortcuts-js"> One </div>
    </div>

	<div class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Autosave List</h4>
				</div>
				<div class="modal-body">
					This is a list of all saved backups, sorted by time.
					<div class="items"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
